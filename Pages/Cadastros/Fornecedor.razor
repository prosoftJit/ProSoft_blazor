@page "/Cadastros/Fornecedor"
@using System.ComponentModel.DataAnnotations
@using ProSoft.Data

<RadzenFormField Text="Id do Fornecedor">
    <RadzenNumeric Format="000000" Value="Model.IdFornecedor" Disabled=true />
</RadzenFormField>
<RadzenFormField Text="Nome">
    <RadzenTextBox @bind-Value=Model.Nome />
</RadzenFormField>
<RadzenFormField Text="Fantasia">
    <RadzenTextBox @bind-Value=Model.Fantasia />
</RadzenFormField>
<RadzenFormField Text="CNPJ">
    <RadzenMask Mask="**.***.***/*****-**" CharacterPattern="[0-9]" @bind-Value=Model.CNPJ />
</RadzenFormField>

@code {
    [Parameter] public fornecedor Model { get; set; } = new();
    [Parameter, EditorRequired] public Contexto Contexto {get;set;}

    void Submit() {
        if (Model.IdFornecedor == 0)
            Contexto.Entry(Model).State = EntityState.Added;
        else
            Contexto.Entry(Model).State = EntityState.Modified;
        Contexto.SaveChanges();
    }
}